<ion-content [fullscreen]="true" class="page-content ion-padding">
    @for (status of animeStatusOrder(); track status) {
        @let userRatesForStatus = userAnimeRatesWithRecent() | filterRatesByStatus: status;
        @let sortedUserRates = status === 'recent'
            ? (userRatesForStatus | slice: 0: 6 | sortRatesByDateVisited)
            : (userRatesForStatus | sortRatesByUserScore: ratesMetadata(): 'original': false);

        <app-anime-rate-section
            class="home-page__anime-rates"
            [label]="'HOME_MODULE.HOME_PAGE.GRIDS.' + (status | uppercase)"
            [status]="status"
            [rates]="sortedUserRates"
            [ratesMetadata]="ratesMetadata()"
            [isRatesLoading]="isRatesLoading()"
            [isMetaLoading]="isMetadataLoading()"
            [isHidden]="getHiddenGridStatus(status)"
            (toggleHidden)="toggleHiddenGridStatus(status)"
        />
    }
</ion-content>
