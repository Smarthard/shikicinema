<ion-content [fullscreen]="true" class="page-content ion-padding">
    <div class="player-page__wrapper">
        <div class="player-page__anime-info common-info">
            @if (isAnimeLoading$ | async) {
                <app-skeleton-block height="2rem" width="30rem"></app-skeleton-block>
            } @else {
                <ion-text>
                    <h1>{{ (anime$ | async)?.russian }}</h1>
                </ion-text>
            }
        </div>

        <app-kind-selector
            class="player-page__kind"
            [kinds]="episodeVideos$ | async | getActiveKinds"
            [selected]="currentKind$ | async"
            (selection)="onKindChange($event)"
        />

        <app-player class="player-page__player responsive-16by9"
            [loading]="isVideosLoading$ | async"
            [source]="(currentVideo$ | async)?.url"
        />

        <app-video-selector
            class="player-page__video-selector"
            [videos]="episodeVideos$ | async | filterByKind: (currentKind$ | async)"
            [selected]="currentVideo$ | async"
            (selection)="onVideoChange($event)"
        />

        <app-episode-selector
            class="player-page__episode-selector"
            [episodes]="videos$ | async | getEpisodes"
            [selected]="episode$ | async"
            (selection)="onEpisodeChange($event)"
        />
    </div>
</ion-content>
