<ng-scrollbar
    class="scrollbar"
    orientation="horizontal"
    appearance="compact"
    visibility="hover">
    <div class="episode-selector__wrapper">
        @for (i of maxEpisode() | repeat; track $index) {
            @let episode = i + 1;
            @let isNotAired = episode > maxAiredEpisode();

            <app-episode-selector-item
                [episode]="episode"
                [isWatched]="episode <= maxWatchedEpisode()"
                [isSelected]="episode === selected()"
                [isNotAired]="isNotAired"
                [ngxTippy]="isNotAired ? notAiredText() : null"
                [tippyProps]="{ placement: 'top' }"
                (click)="onEpisodeSelect(episode)"
                (keydown.enter)="onEpisodeSelect(episode)"
                (keydown.space)="onEpisodeSelect(episode)"
            />
        } @empty {
            @if (isLoading()) {
                @for (episode of 50 | repeat; track $index) {
                    <app-episode-selector-item class="skeleton" [episode]="episode" />
                }
            } @else {
                <app-episode-selector-item
                    [episode]="1"
                    [isSelected]="true"
                />
            }
        }
    </div>
</ng-scrollbar>
